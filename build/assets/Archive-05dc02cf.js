import{a6 as C,ao as G,as as B,b as a,r as d,a7 as M,a8 as j,j as h,c as t,L as D,B as n,d as Q,T as $}from"./index-4b98aa60.js";import{T as E}from"./Toolbar-b8b39b15.js";import{C as F}from"./Container-1dab81eb.js";import{C as P}from"./Card-e745718f.js";import"./index.esm-4f3fb3f8.js";import"./InputAdornment-39d9477e.js";const z=()=>{const i=C(),c=G(),r=B(),v=a(e=>e.todoSlice.archivedTodoList),u=a(e=>e.habitsSlice.archivedHabitList),g=a(e=>e.goalSlice.archivedGoalList),m=a(e=>e.todoSlice.archivedTodoListLoaded),b=a(e=>e.habitsSlice.archivedHabitListLoaded),L=a(e=>e.goalSlice.archivedGoalListLoaded),A=a(e=>e.authSlice.loading),f=a(e=>e.authSlice.sidebarFull),p=a(e=>e.authSlice.sidebarVisible),[o,S]=d.useState("todo"),H=e=>{S(e)},T=M(),l=new URLSearchParams(T.search),[k,x]=[l.get("sort"),l.get("search")];let s=[];o==="todo"&&(s=[...v]),o==="habit"&&(s=[...u]),o==="goal"&&(s=[...g]);const y=j(s,o,k,x),N=e=>{o==="todo"?i.toggleTodoArchiveStatus(e):o==="goal"?r.toggleGoalArchiveStatus(e):o==="habit"&&c.toggleHabitArchiveStatus(e)};return d.useEffect(()=>{o==="todo"&&m||i.loadArchivedTodoData(),o==="goal"&&L||r.loadArchivedGoalData(),o==="habit"&&b||c.loadArchivedHabitsData()},[o]),h(F,{component:"main",className:`archive ${p?`page-${f?"compact":"full"}`:"page"}`,children:[t(E,{mode:"archive",archiveMode:o,setArchiveMode:e=>{H(e.target.value)}}),A?t(D,{height:"80vh"}):t(n,{className:"archive-list",children:y.map(e=>h(P,{variant:"elevation",className:"archive-item scale-in",children:[t(Q,{className:"restore-item",onClick:()=>{N(e)},children:"Restore"}),t(n,{className:"archive-item-title",children:t($,{className:"archive-item-title-text",children:e.title})})]},e._id))})]})};export{z as default};
