import{u as v,a as D,b as a,r as m,j as i,B as s,c as t,T as l,d as p,C as f,e as x,f as L,L as C}from"./index-4b98aa60.js";import{D as k}from"./DatePicker-94f39176.js";import{C as $}from"./Card-e745718f.js";import{C as y}from"./Container-1dab81eb.js";import"./InputAdornment-39d9477e.js";const w=()=>{const d=v(),n=D(),c=a(e=>e.scheduleSlice.scheduleLoading),o=a(e=>e.scheduleSlice.scheduleDate),N=a(e=>e.scheduleSlice.scheduleList[new Date(o).toLocaleDateString("en-Gb")])||[];a(e=>e.scheduleSlice.scheduleListLoaded);const r=a(e=>e.habitsSlice.habitList),[h,b]=m.useState(new Date(o)),u=e=>{e=e||new Date,b(e),d.loadScheduleItems(e,r)},S=(e,g)=>{e==="habit"||n(`/${e}${e==="todo"?"":"s"}/${g}`)};return m.useEffect(()=>{d.loadScheduleItems(new Date(o),r)},[r]),i(s,{className:"schedule",children:[t(l,{className:"schedule-title",children:"Schedule"}),i(s,{className:"schedule-date",children:[i(p,{variant:"outlined",className:"button schedule-date-button",onClick:()=>{u(new Date(h.getTime()-864e5))},children:[t(f,{className:"schedule-date-icon icon-interactive nav-icon"}),t(l,{className:"schedule-date-button-text",children:"Prev Day"})]}),t(s,{className:"schedule-datepicker-wrapper",children:t(k,{inputFormat:"dd/MM/yyyy",desktopModeMediaQuery:"@media (min-width:769px)",renderInput:e=>t(x,{size:"small",className:"focus date-picker schedule-date-picker",...e}),value:h,onChange:e=>{u(e)}})}),i(p,{variant:"outlined",className:"button schedule-date-button",onClick:()=>{u(new Date(h.getTime()+864e5))},children:[t(l,{className:"schedule-date-button-text",children:"Next Day"}),t(L,{className:"schedule-date-icon icon-interactive nav-icon"})]})]}),c?t(C,{height:"80vh"}):t(s,{className:"schedule-list",children:N.map(e=>i($,{variant:"elevation",className:`schedule-item scale-in schedule-${e.parentType}`,children:[e.time&&t(s,{className:"schedule-item-time",children:t(l,{className:"schedule-item-time-text",children:`${e.time.split(":")[0]}:${e.time.split(":")[1]}`})}),t(s,{className:"schedule-item-title",onClick:()=>{S(e.parentType,e.parentId)},children:t(l,{className:"schedule-item-title-text",children:e.parentTitle})})]},e._id))})]})},B=()=>{const d=a(c=>c.authSlice.sidebarFull),n=a(c=>c.authSlice.sidebarVisible);return t(y,{component:"main",className:`home ${n?`page-${d?"compact":"full"}`:"page"}`,children:t(w,{})})};export{B as default};
