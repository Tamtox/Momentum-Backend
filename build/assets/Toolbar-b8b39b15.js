import{q as T,o as _,s as q,D as W,a9 as J,_ as x,E as k,r as g,p as K,l as X,aa as D,w as Y,v as Z,c as a,m as P,n as ee,b as ae,a0 as te,a as se,a7 as oe,B as p,j as c,ab as O,ac as Q,ad as V,ae as z,d as A,af as re,ag as ne,T as le}from"./index-4b98aa60.js";import{b as E}from"./index.esm-4f3fb3f8.js";import{I as F}from"./InputAdornment-39d9477e.js";const ie=T("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),H=ie,ce=T("MuiListItemIcon",["root","alignItemsFlexStart"]),G=ce,de=T("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),j=de;function ue(e){return _("MuiMenuItem",e)}const pe=T("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),I=pe,me=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],he=(e,s)=>{const{ownerState:o}=e;return[s.root,o.dense&&s.dense,o.divider&&s.divider,!o.disableGutters&&s.gutters]},be=e=>{const{disabled:s,dense:o,divider:n,disableGutters:h,selected:b,classes:m}=e,d=ee({root:["root",o&&"dense",s&&"disabled",!h&&"gutters",n&&"divider",b&&"selected"]},ue,m);return x({},m,d)},ve=q(W,{shouldForwardProp:e=>J(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:he})(({theme:e,ownerState:s})=>x({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!s.disableGutters&&{paddingLeft:16,paddingRight:16},s.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${I.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${I.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:k(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${I.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:k(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${I.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${I.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${H.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${H.inset}`]:{marginLeft:52},[`& .${j.root}`]:{marginTop:0,marginBottom:0},[`& .${j.inset}`]:{paddingLeft:36},[`& .${G.root}`]:{minWidth:36}},!s.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},s.dense&&x({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${G.root} svg`]:{fontSize:"1.25rem"}}))),ge=g.forwardRef(function(s,o){const n=K({props:s,name:"MuiMenuItem"}),{autoFocus:h=!1,component:b="li",dense:m=!1,divider:$=!1,disableGutters:d=!1,focusVisibleClassName:l,role:M="menuitem",tabIndex:N,className:v}=n,u=X(n,me),w=g.useContext(D),y=g.useMemo(()=>({dense:m||w.dense||!1,disableGutters:d}),[w.dense,m,d]),C=g.useRef(null);Y(()=>{h&&C.current&&C.current.focus()},[h]);const B=x({},n,{dense:y.dense,divider:$,disableGutters:d}),f=be(n),L=Z(C,o);let S;return n.disabled||(S=N!==void 0?N:-1),a(D.Provider,{value:y,children:a(ve,x({ref:L,role:M,tabIndex:S,component:b,focusVisibleClassName:P(f.focusVisible,l),className:P(f.root,v)},u,{ownerState:B,classes:f}))})}),r=ge;const Ie=e=>{const s=ae(t=>t.authSlice.darkMode),o=te("(max-width:769px)"),[n,h]=[se(),oe()],b=new URLSearchParams(h.search),[m,$]=[b.get("sort"),b.get("search")];function d(t,i){const R=t?`?sort=${t}`:"",U=i?t?`&search=${i}`:`?search=${i}`:"";n(`/${e.mode}${e.mode==="goal"||e.mode==="habit"?"s":""}${R}${U}`)}const[l,M]=g.useState({sortQuery:m||"",searchQuery:$||""}),N=t=>{M(i=>({...i,sortQuery:t})),d(t,l.searchQuery)},v=t=>{M(i=>({...i,searchQuery:t})),d(l.sortQuery,t)},[u,w]=g.useState({searchMode:!1}),y=(t,i)=>{w(R=>({...R,[t]:i}))};let C=!u.searchMode||!o?a(p,{className:"toolbar-sort-wrapper",children:c(O,{className:"toolbar-sort select",size:"small",children:[a(Q,{id:"toolbar-sort-label",children:"Sort"}),c(V,{labelId:"toolbar-sort-label",value:l.sortQuery,onChange:t=>{N(t.target.value)},size:"small",label:"Sort",children:[a(r,{value:"",children:"All Items"}),a(r,{value:"dateAsc",children:"Creation Date Ascending"}),a(r,{value:"dateDesc",children:"Creation Date Descending"}),e.mode==="habit"?a(r,{value:"noEntries",children:"No Entries"}):a(r,{value:"statusPend",children:"Status Pending"}),e.mode==="habit"?a(r,{value:"hasEntries",children:"Entries"}):a(r,{value:"statusComp",children:"Status Complete"})]})]})}):null,B=a(p,{className:"toolbar-search-wrapper",children:c(O,{className:"toolbar-search",sx:{width:"calc(min(100%, 33rem))"},size:"small",variant:"outlined",children:[a(Q,{children:"Search"}),a(z,{value:l.searchQuery,onChange:t=>{v(t.target.value)},label:"Search",endAdornment:a(F,{position:"end",children:l.searchQuery.length?a(p,{className:"toolbar-clear-search-input-wrapper",children:a(E,{onClick:()=>{v("")},className:"icon-interactive opacity-transition toolbar-clear-search-input-icon"})}):null})})]})}),f=c(p,{className:"toolbar-search-compact-wrapper scale-in",children:[u.searchMode?null:a(A,{onClick:()=>{y("searchMode",!0)},variant:"outlined",children:a(re,{className:"toolbar-search-compact-icon opacity-transition"})}),u.searchMode?c(O,{className:"toolbar-search-compact",sx:{width:"calc(min(100%, 33rem))"},size:"small",variant:"outlined",children:[a(Q,{children:"Search"}),a(z,{value:l.searchQuery,onChange:t=>{v(t.target.value)},label:"Search",endAdornment:a(F,{position:"end",children:l.searchQuery.length?a(p,{className:"toolbar-clear-search-input-wrapper",children:a(E,{onClick:()=>{v("")},className:"icon-interactive opacity-transition toolbar-clear-search-input-icon"})}):null})})]}):null,u.searchMode?a(A,{className:"toolbar-search-compact-return",onClick:()=>{y("searchMode",!1)},variant:"outlined",children:"Back"}):null]}),L=!u.searchMode||!o?a(p,{className:"toolbar-add-new-item-wrapper",children:c(A,{variant:"outlined",onClick:e.addNewItem,className:"toolbar-add-new-item-button",children:[a(ne,{className:"toolbar-add-new-item-button-icon opacity-transition"}),a(le,{className:"toolbar-add-new-item-button-text opacity-transition",children:`New ${e.mode}`})]})}):null,S=!u.searchMode||!o?a(p,{className:"toolbar-archive-mode-select-wrapper",children:c(O,{className:"archive-mode-select select",size:"small",children:[a(Q,{id:"archive-mode-label",children:"Mode"}),c(V,{labelId:"archive-mode-label",value:e.archiveMode,onChange:e.setArchiveMode,size:"small",label:"Sort",children:[a(r,{value:"todo",children:"To Do"}),a(r,{value:"habit",children:"Habits"}),a(r,{value:"goal",children:"Goals"})]})]})}):null;return c(p,{className:`toolbar${s?"-dark":""} scale-in`,children:[C,o?f:B,e.mode==="archive"?S:L]})};export{Ie as T};
